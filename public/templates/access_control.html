<div class="row valign-wrapper">
    <h4 class=" col s12 m8 valign">Configure Access Control</h4>
    <div class="valign col s8 m4">
        <div class="col s12 m6 input-field">
            <a class="btn waves-effect waves-light green col s12 m12" ng-click="saveProject()">
                <i class="material-icons left">done</i>Save
            </a>
        </div>
        <div class="col s12 m6 input-field">
            <a class="btn waves-effect waves-light red col s12 m12" ng-click="back()">
                <i class="material-icons left">power_settings_new</i>Back
            </a>
        </div>
    </div>
</div>
<div class="row">
    <ul class="collapsible collapsible-accordion" data-collapsible="accordion">
        <li>
            <div class="collapsible-header active blue white-text">
                Instructions<i class="material-icons right">announcement</i>
            </div>
            <div class="collapsible-body">
                <div class="row">
                    <p>
                        For each module in this domain, you can control whether any actor can access to the module.
                        <br/>
                        This can ensure that only authorized actor are allowed to acess due to security concerns.
                        <br/>
                        - Check to allow actor to access to the selected module.
                        <br/>
                        - Uncheck to restrict the actor from accessing the selected module.
                    </p>
                </div>
            </div>
        </li>
        <li ng-repeat="(module, actors) in project.accessControlData">
            <div class="collapsible-header active">
                <h5>
                    <span ng-bind="module"></span>
                    <span class="badge white-text light-green"
                          ng-bind="count(actors)"
                          ng-if="project.domainData.actions.length > 0"></span>
                </h5>
            </div>
            <div class="collapsible-body">
                <div class="row">
                    <div class="input-field" ng-repeat="actor in project.domainData.actors">
                        <input id="{{ module.replace(' ', '_') }}.{{ actor.replace(' ', '_') }}" type="checkbox"
                               ng-model="actors[actor]" ng-change="change()">
                        <label for="{{ module.replace(' ', '_') }}.{{ actor.replace(' ', '_') }}"
                               ng-bind="actor"></label>
                    </div>
                </div>
            </div>
        </li>
    </ul>
</div>
<script>
    setTimeout(function () {
        $('.collapsible').collapsible({
            accordion: false // A setting that changes the collapsible behavior to expandable instead of the default accordion style
        });
    }, 500);
</script>